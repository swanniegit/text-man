<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Blanks Generator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header-section">
            <h1>Fill in the Blanks Generator</h1>
            <button id="logout-btn" class="logout-button">Logout</button>
        </div>
        
        <div class="input-section">
            <div class="input-group">
                <label for="original-text">Enter your text:</label>
                <textarea id="original-text" placeholder="Type or paste your text here..."></textarea>
            </div>
            
            <div class="input-group">
                <label for="words-to-remove">Words to remove (separated by commas):</label>
                <input type="text" id="words-to-remove" placeholder="word1, word2, word3">
                <div class="ai-buttons-row">
                    <button id="ai-prepositions-btn" class="ai-extract-button">Extract Prepositions</button>
                    <button id="ai-verbs-btn" class="ai-extract-button">Extract Verbs</button>
                    <button id="ai-nouns-btn" class="ai-extract-button">Extract Nouns</button>
                    <button id="ai-adjectives-btn" class="ai-extract-button">Extract Adjectives</button>
                </div>
            </div>
            
            <button id="generate-btn">Generate Exercise</button>
        </div>
        
        <div class="exercise-container" id="exercise-container" style="display: none;">
            <div class="text-section">
                <h3>Text with Blanks</h3>
                <div id="text-with-blanks"></div>
            </div>
            
            <div class="image-section">
                <h3>Visual Aid</h3>
                <div id="image-container">
                    <button id="generate-image-btn" class="generate-image-button">Generate Image</button>
                    <div id="image-display" style="display: none;">
                        <img id="generated-image" alt="Generated illustration" />
                    </div>
                    <div id="image-loading" style="display: none;">
                        <p>Generating image...</p>
                    </div>
                </div>
            </div>
            
            <div class="word-bank-section">
                <h3>Word Bank</h3>
                <div id="word-bank"></div>
                <button id="export-btn" class="export-button">Export to Word</button>
            </div>
        </div>
    </div>
    
    <script src="https://unpkg.com/docx@8.0.0/build/index.js"></script>
    <script src="https://unpkg.com/file-saver@2.0.5/dist/FileSaver.min.js"></script>
    <script src="script.js"></script>
    <script>
        // Check authentication on page load (only on app page)
        if (window.location.pathname.includes('app.html') && localStorage.getItem('isLoggedIn') !== 'true') {
            window.location.replace('login.html');
        }
    </script>
</body>
</html>